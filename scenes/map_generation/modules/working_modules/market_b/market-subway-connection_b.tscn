[gd_scene load_steps=24 format=3 uid="uid://bv2hgdfc12liq"]

[ext_resource type="Script" path="res://scenes/map_generation/modules/_module.gd" id="1_b28yg"]
[ext_resource type="Texture2D" uid="uid://cbxdpxsrl10on" path="res://assets/materials/Tile/Tile_03-128x128.png" id="2_yr21d"]
[ext_resource type="PackedScene" uid="uid://b1li5by3nofy3" path="res://assets/lowpoly_assets/Models/interior assets/Pieces/railing.fbx" id="3_65q3f"]
[ext_resource type="Texture2D" uid="uid://brfw4m4rdpit0" path="res://assets/lowpoly_assets/Texture/Marmol.png" id="4_3iqu6"]
[ext_resource type="Texture2D" uid="uid://b2n34ixxrblhg" path="res://assets/materials/Plaster/Plaster_20-128x128.png" id="4_6g0u3"]
[ext_resource type="PackedScene" uid="uid://c68q6do3jgx3y" path="res://scenes/game_objects/npc_spawner/npc_spawner.tscn" id="5_boh3v"]
[ext_resource type="PackedScene" uid="uid://dbcoh3bpx386k" path="res://scenes/game_objects/npc/npc.tscn" id="6_5xlm4"]
[ext_resource type="PackedScene" uid="uid://dqciljrnhp6pv" path="res://assets/lowpoly_assets/Models/metro_posters/metro_poster3.glb" id="8_cir3x"]
[ext_resource type="PackedScene" uid="uid://4oyvu08ucsrd" path="res://assets/lowpoly_assets/Models/metro_posters/metro_poster1.glb" id="9_gxflv"]
[ext_resource type="Texture2D" uid="uid://p2qer8o4o5dn" path="res://assets/materials/Stone/Stone_11-128x128.png" id="10_r2mmp"]
[ext_resource type="PackedScene" uid="uid://d0wmtefbywetu" path="res://assets/lowpoly_assets/Models/metro_trashcan/metro_trashcan.glb" id="11_i6mnw"]
[ext_resource type="PackedScene" uid="uid://b0aaxvqwir740" path="res://scenes/game_objects/cracks/cracks.tscn" id="12_6us42"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_f03k6"]
albedo_texture = ExtResource("2_yr21d")
uv1_scale = Vector3(9, 20, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3h6mv"]
shading_mode = 2
diffuse_mode = 3
specular_mode = 1
albedo_texture = ExtResource("4_3iqu6")
uv1_scale = Vector3(2, 2, 2)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yyvr1"]
albedo_texture = ExtResource("10_r2mmp")

[sub_resource type="PlaneMesh" id="PlaneMesh_hd0un"]
material = SubResource("StandardMaterial3D_yyvr1")
size = Vector2(8, 4)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xllp5"]
shading_mode = 2
diffuse_mode = 3
specular_mode = 1
albedo_texture = ExtResource("4_6g0u3")
uv1_scale = Vector3(2, 2, 2)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_feoob"]
albedo_texture = ExtResource("2_yr21d")
uv1_scale = Vector3(4, 9, 1)

[sub_resource type="Gradient" id="Gradient_i655i"]
offsets = PackedFloat32Array(0, 0.992424, 1)
colors = PackedColorArray(0, 0, 0, 1, 0.0643939, 0.0643939, 0.0643939, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_qox21"]
seed = 45645456

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_b582l"]
color_ramp = SubResource("Gradient_i655i")
noise = SubResource("FastNoiseLite_qox21")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_g4eto"]
transparency = 1
blend_mode = 1
diffuse_mode = 3
specular_mode = 1
albedo_color = Color(0.549, 0.758, 0.836, 0.335)
roughness_texture = SubResource("NoiseTexture2D_b582l")

[sub_resource type="PlaneMesh" id="PlaneMesh_3r43y"]
material = SubResource("StandardMaterial3D_g4eto")
size = Vector2(2, 4)

[node name="Market_Cafe" type="Node3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0.000977516, 0.00880408, 0.000139236)
script = ExtResource("1_b28yg")

[node name="Floor" type="CSGBox3D" parent="."]
use_collision = true
collision_mask = 8
size = Vector3(21.877, 1, 6)
material = SubResource("StandardMaterial3D_f03k6")

[node name="Left Wall2" type="CSGCylinder3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.97167, 2.45312, 2.47627)
cast_shadow = 0
use_collision = true
radius = 0.6
height = 4.0
material = SubResource("StandardMaterial3D_3h6mv")

[node name="Left Wall3" type="CSGCylinder3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.97167, 2.45312, -2.69299)
cast_shadow = 0
use_collision = true
radius = 0.6
height = 4.0
material = SubResource("StandardMaterial3D_3h6mv")

[node name="NpcSpawner" parent="." instance=ExtResource("5_boh3v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.364, 0.5, -0.268328)
npc_type_array = Array[PackedScene]([ExtResource("6_5xlm4")])

[node name="NpcSpawner2" parent="." instance=ExtResource("5_boh3v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.364, 0.5, 1.11249)
npc_type_array = Array[PackedScene]([ExtResource("6_5xlm4")])

[node name="NpcSpawner3" parent="." instance=ExtResource("5_boh3v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.364, 0.5, -1.36507)
npc_type_array = Array[PackedScene]([ExtResource("6_5xlm4")])

[node name="Left Wall4" type="CSGCylinder3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.01045, 2.45312, 2.47627)
cast_shadow = 0
use_collision = true
radius = 0.6
height = 4.0
material = SubResource("StandardMaterial3D_3h6mv")

[node name="Left Wall5" type="CSGCylinder3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.01045, 2.45312, -2.69299)
cast_shadow = 0
use_collision = true
radius = 0.6
height = 4.0
material = SubResource("StandardMaterial3D_3h6mv")

[node name="NpcSpawner4" parent="." instance=ExtResource("5_boh3v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.4272, 0.5, 0.108272)
npc_type_array = Array[PackedScene]([ExtResource("6_5xlm4")])

[node name="NpcSpawner5" parent="." instance=ExtResource("5_boh3v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.4272, 0.5, 1.48909)
npc_type_array = Array[PackedScene]([ExtResource("6_5xlm4")])

[node name="NpcSpawner6" parent="." instance=ExtResource("5_boh3v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.4272, 0.5, -0.988472)
npc_type_array = Array[PackedScene]([ExtResource("6_5xlm4")])

[node name="NpcSpawner7" parent="." instance=ExtResource("5_boh3v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.93351, 0.5, -0.0645305)
npc_type_array = Array[PackedScene]([ExtResource("6_5xlm4")])
right_side = false

[node name="NpcSpawner8" parent="." instance=ExtResource("5_boh3v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.93351, 0.5, 1.31629)
npc_type_array = Array[PackedScene]([ExtResource("6_5xlm4")])
right_side = false

[node name="NpcSpawner9" parent="." instance=ExtResource("5_boh3v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.93351, 0.5, -1.16127)
npc_type_array = Array[PackedScene]([ExtResource("6_5xlm4")])
right_side = false

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 11.6605, 2.19489, -2.98677)
mesh = SubResource("PlaneMesh_hd0un")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, -11.2907, 2.19489, -2.98677)
mesh = SubResource("PlaneMesh_hd0un")

[node name="metro_poster3" parent="." instance=ExtResource("8_cir3x")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -9.09744, 2.00924, -2.93997)

[node name="metro_poster1" parent="." instance=ExtResource("9_gxflv")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 9.98183, 2.09861, -2.94516)

[node name="Left Wall6" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.60233, 1.98875, 2.74764)
cast_shadow = 0
use_collision = true
size = Vector3(3.6851, 5.23941, 0.470924)
material = SubResource("StandardMaterial3D_xllp5")

[node name="Left Wall7" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.54869, 1.98875, 2.74764)
cast_shadow = 0
use_collision = true
size = Vector3(3.6851, 5.23941, 0.470924)
material = SubResource("StandardMaterial3D_xllp5")

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, -12.7238, -0.529466, 0.00435682)
size = Vector3(4.79633, 5.95661, 2.05788)
material = SubResource("StandardMaterial3D_feoob")

[node name="railing" parent="." instance=ExtResource("3_65q3f")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 13.3053, 2.43799, 9.90735)

[node name="MeshInstance3D" type="MeshInstance3D" parent="railing"]
transform = Transform3D(1.91069e-15, -4.37114e-08, 1, -1, -4.37114e-08, 0, 4.37114e-08, -1, -4.37114e-08, 10.0097, 1.02948, -5.24504)
transparency = 0.85
mesh = SubResource("PlaneMesh_3r43y")
skeleton = NodePath("../..")

[node name="railing2" parent="." instance=ExtResource("3_65q3f")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -1.67678, 2.45105, 9.90735)

[node name="MeshInstance3D" type="MeshInstance3D" parent="railing2"]
transform = Transform3D(1.91069e-15, -4.37114e-08, -1, -1, -4.37114e-08, 0, -4.37114e-08, 1, -4.37114e-08, 10.0097, 1.02948, -5.24504)
transparency = 0.85
mesh = SubResource("PlaneMesh_3r43y")
skeleton = NodePath("../..")

[node name="metro_trashcan" parent="." instance=ExtResource("11_i6mnw")]
transform = Transform3D(-0.0537652, 0, 0.998554, 0, 1, 0, -0.998554, 0, -0.0537652, -5.96755, 1.10373, 2.53863)

[node name="Cracks" parent="." instance=ExtResource("12_6us42")]
transform = Transform3D(0.5, 0, -0.866025, 0, 1, 0, 0.866025, 0, 0.5, 0.684033, 0.871122, -2.46043)

[node name="Cracks2" parent="." instance=ExtResource("12_6us42")]
transform = Transform3D(0.5, 0, -0.866025, 0, 1, 0, 0.866025, 0, 0.5, 5.55343, 0.871122, -2.46043)

[node name="Cracks3" parent="." instance=ExtResource("12_6us42")]
transform = Transform3D(0.5, 0, -0.866025, 0, 1, 0, 0.866025, 0, 0.5, -3.91684, 0.871122, -2.46043)

[node name="Cracks4" parent="." instance=ExtResource("12_6us42")]
transform = Transform3D(0.5, 0, -0.866025, 0, 1, 0, 0.866025, 0, 0.5, 0.684034, 0.871122, 2.38851)

[node name="Cracks5" parent="." instance=ExtResource("12_6us42")]
transform = Transform3D(0.5, 0, -0.866025, 0, 1, 0, 0.866025, 0, 0.5, 5.55343, 0.871122, 2.38851)

[node name="Cracks6" parent="." instance=ExtResource("12_6us42")]
transform = Transform3D(0.5, 0, -0.866025, 0, 1, 0, 0.866025, 0, 0.5, -3.91684, 0.871122, 2.38851)
